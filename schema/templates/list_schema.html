{% extends 'main.html' %}

{% block content %}
    <div class="col-12 py-3">
<table class="table table-striped text-dark table-bordered col-xs-12 mx-auto table-hover table-xs">
    <thead>
        <tr class="bg-secondary">
            <th scope="col" class="text-light">#</th>
            <th scope="col" class="text-light">ID</th>
            <th scope="col" class="text-light">Title</th>
            <th scope="col" class="text-light">Modified</th>
            <th scope="col" class="text-light">Actions</th>
        </tr>
    </thead>
{% for schema in schemas %}
    <tr hx-target="this" hx-swap="outerHTML">
        <td>{{ forloop.counter }}</td>
        <td>{{ schema.id }}</td>
        <td>{{ schema.name }}</td>
        <td>{{ schema.created }}</td>
        <td>
            <div class="d-flex flex-row mb-3">
                <div><a href = "{% url 'edit-scheme' schema.id %}"> <button class="btn bg-gradient-warning w-auto me-2"> <i class="fas fa-edit">&nbsp;Scheme</i></button></a>
                </div>
                <div>
                   <button class="btn bg-gradient-danger w-auto me-2" hx-post="{% url 'delete-scheme' schema.id %}"><i class="fas fa-trash-alt">&nbsp;Scheme</i></button>
                </div>
                <div>
                    <a href = "{% url 'generate-csv' schema.id %}"> <button class="btn bg-gradient-success w-auto me-2"><i class="fas fa-cog">&nbsp;Generate CSV</i> </button></a>
                </div>
              </div>
        </td>
    </tr>
{% endfor %}
</table>
    </div>
{% endblock %}